<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payton Gunter - Lunar Station Game</title>
    <link rel="stylesheet" href="styles.css?v=3">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Payton Gunter</h1>
        <p>Electronics Maker | Innovator | Space Advocate</p>
    </header>
    <nav>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/contact.html">Contact</a></li>
            <li><a href="/current-projects.html">Current Projects</a></li>
            <li><a href="/past-projects.html">Past Projects</a></li>
            <li><a href="/off-topic.html">Off Topic</a></li>
        </ul>
    </nav>
    <section id="test-game">
        <h2>Lunar Station Game</h2>
        <p>Manage your lunar space station in 3D!</p>
        <div id="game-container"></div>
    </section>
    <footer>
        <p>Contact: <span class="copyable" onclick="copyToClipboard('kerbalengineer098@gmail.com')">kerbalengineer098@gmail.com</span> | <a href="https://github.com/KerbalEngineering">GitHub</a></p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script>
        if (typeof THREE === 'undefined') {
            console.error('Three.js failed to load');
            alert('Three.js failed to load - check console');
        } else {
            console.log('Three.js loaded successfully');
        }

        const container = document.getElementById('game-container');
        if (!container) {
            console.error('Game container not found');
            alert('Game container not found');
        } else {
            console.log('Game container found');
            console.log('Container dimensions:', container.clientWidth, container.clientHeight);

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);
            console.log('Renderer canvas added to container');

            // Station group
            const station = new THREE.Group();

            // Module 1 (standard, left) - Gray
            const module1Geometry = new THREE.CylinderGeometry(1.3, 1.3, 4, 32);
            const moduleMaterial = new THREE.MeshBasicMaterial({ color: 0x666666 });
            const module1 = new THREE.Mesh(module1Geometry, moduleMaterial);
            module1.position.x = -2; // Center at x = -2, ends at -4 and 0
            module1.rotation.z = Math.PI / 2; // Rotate to lie along X-axis
            station.add(module1);
            console.log('Module 1: radius 1.3, length 4, x = -2, ends at x = -4 and 0, color: gray');

            // Module 2 (habitat, right) - Gray
            const module2Geometry = new THREE.CylinderGeometry(1.3, 1.3, 5.6, 32);
            const module2 = new THREE.Mesh(module2Geometry, moduleMaterial);
            module2.position.x = 2.8; // Center at x = 2.8, ends at 0 and 5.6
            module2.rotation.z = Math.PI / 2; // Rotate to lie along X-axis
            station.add(module2);
            console.log('Module 2: radius 1.3, length 5.6, x = 2.8, ends at x = 0 and 5.6, color: gray');

            // Conical ends - Light Green
            const coneGeometry = new THREE.CylinderGeometry(0.65, 1.3, 0.5, 32); // Narrow top, wide bottom
            const coneMaterial = new THREE.MeshBasicMaterial({ color: 0x90EE90 });
            // Left end (Module 1)
            const coneLeft = new THREE.Mesh(coneGeometry, coneMaterial);
            coneLeft.position.x = -4.25; // Wide at -4, narrow at -4.5
            coneLeft.rotation.z = Math.PI / 2; // Align with X-axis
            coneLeft.rotation.x = Math.PI; // Flip to match module
            station.add(coneLeft);
            console.log('Cone Left: top 0.65, base 1.3, x = -4.25, narrow at -4.5, wide at -4, color: light green');
            // Middle (between modules)
            const coneMiddleLeft = new THREE.Mesh(coneGeometry, coneMaterial);
            coneMiddleLeft.position.x = -0.25; // Wide at 0, narrow at -0.5
            coneMiddleLeft.rotation.z = Math.PI / 2;
            coneMiddleLeft.rotation.x = Math.PI; // Flip
            station.add(coneMiddleLeft);
            console.log('Cone Middle Left: top 0.65, base 1.3, x = -0.25, narrow at -0.5, wide at 0, color: light green');
            const coneMiddleRight = new THREE.Mesh(coneGeometry, coneMaterial);
            coneMiddleRight.position.x = 0.25; // Wide at 0, narrow at 0.5
            coneMiddleRight.rotation.z = Math.PI / 2;
            station.add(coneMiddleRight);
            console.log('Cone Middle Right: top 0.65, base 1.3, x = 0.25, narrow at 0.5, wide at 0, color: light green');
            // Right end (Module 2)
            const coneRight = new THREE.Mesh(coneGeometry, coneMaterial);
            coneRight.position.x = 5.85; // Wide at 5.6, narrow at 6.1
            coneRight.rotation.z = Math.PI / 2;
            station.add(coneRight);
            console.log('Cone Right: top 0.65, base 1.3, x = 5.85, narrow at 6.1, wide at 5.6, color: light green');

            // Docking ports - Light Blue
            const portGeometry = new THREE.CylinderGeometry(0.65, 0.65, 0.15, 32);
            const portMaterial = new THREE.MeshBasicMaterial({ color: 0x87CEEB });
            // Left port
            const portLeft = new THREE.Mesh(portGeometry, portMaterial);
            portLeft.position.x = -4.5; // Center at -4.5, spans -4.575 to -4.425
            portLeft.rotation.z = Math.PI / 2;
            station.add(portLeft);
            console.log('Port Left: radius 0.65, x = -4.5, spans -4.575 to -4.425, color: light blue');
            // Middle ports
            const portMiddleLeft = new THREE.Mesh(portGeometry, portMaterial);
            portMiddleLeft.position.x = -0.5; // Center at -0.5, spans -0.575 to -0.425
            portMiddleLeft.rotation.z = Math.PI / 2;
            station.add(portMiddleLeft);
            console.log('Port Middle Left: radius 0.65, x = -0.5, spans -0.575 to -0.425, color: light blue');
            const portMiddleRight = new THREE.Mesh(portGeometry, portMaterial);
            portMiddleRight.position.x = 0.5; // Center at 0.5, spans 0.425 to 0.575
            portMiddleRight.rotation.z = Math.PI / 2;
            station.add(portMiddleRight);
            console.log('Port Middle Right: radius 0.65, x = 0.5, spans 0.425 to 0.575, color: light blue');
            // Right port
            const portRight = new THREE.Mesh(portGeometry, portMaterial);
            portRight.position.x = 6.1; // Center at 6.1, spans 6.025 to 6.175
            portRight.rotation.z = Math.PI / 2;
            station.add(portRight);
            console.log('Port Right: radius 0.65, x = 6.1, spans 6.025 to 6.175, color: light blue');

            scene.add(station);

            // Camera and initial orientation
            camera.position.set(-5, 5, 10); // Left side closer, above and in front
            station.rotation.y = Math.PI / 6; // Slight tilt for perspective

            function animate() {
                requestAnimationFrame(animate);
                station.rotation.x += 0.005; // Slow roll along long axis (X)
                renderer.render(scene, camera);
            }
            animate();

            window.addEventListener('resize', () => {
                const width = container.clientWidth;
                const height = container.clientHeight;
                renderer.setSize(width, height);
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
                console.log('Resize triggered - new dimensions:', width, height);
            });
        }

        function copyToClipboard(text) {
            const tempInput = document.createElement('textarea');
            tempInput.value = text;
            document.body.appendChild(tempInput);
            tempInput.select();
            try {
                document.execCommand('copy');
                alert('Copied to clipboard: ' + text);
            } catch (err) {
                console.error('Copy failed: ', err);
                alert('Copy failedâ€”please select and copy manually.');
            }
            document.body.removeChild(tempInput);
        }
    </script>
</body>
</html>
